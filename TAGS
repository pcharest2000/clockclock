
/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/MotorVID28_05.cpp,1387
static byte stateMap[] = {0x5, 0x1, 0x3, 0x2, 0x6, 0x4};stateMap22,433
#define STATE_COUNT STATE_COUNT23,491
static byte microStepState[] = {251, 238, 218, 191,microStepState25,578
#define STARTINDEX_PIN1 STARTINDEX_PIN132,885
#define STARTINDEX_PIN23 STARTINDEX_PIN2333,926
#define STARTINDEX_PIN4 STARTINDEX_PIN434,964
const int	accelArray[50] = { 12,11,10,10,9,9,8,7,7,6,6,6,5,5,4,4,4,3,3,3,3,3,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1,0,0,0,1 }; // define how much ticks to wait until the next moveaccelArray36,1002
const int   arrayLength = 50;arrayLength37,1192
#define STEPTIME STEPTIME40,1227
MotorVID28_05::MotorVID28_05(){MotorVID28_0541,1352
MotorVID28_05::MotorVID28_05( char pin1, unsigned char pin2, unsigned char pin3)MotorVID28_0544,1392
void MotorVID28_05::incrementState(){incrementState66,2192
void MotorVID28_05::decrementState(){decrementState71,2308
void MotorVID28_05::writeIO()writeIO77,2432
void MotorVID28_05::stepUp()stepUp85,2741
void MotorVID28_05::stepDown()stepDown92,2868
void MotorVID28_05::run() // checks if time is OK for next step. Not neededrun98,3008
void MotorVID28_05::checkToRun()checkToRun123,3590
void MotorVID28_05::MoveMotor() { // change nameMoveMotor174,5686
void MotorVID28_05::setDestination(signed long _dest)setDestination190,5962
void MotorVID28_05::startNewMove()startNewMove204,6247

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/main.cpp,287
MultiStepper mStepper;mStepper5,87
int32_t endpos = 12000;endpos6,110
void setup() {setup7,134
uint32_t start, delta,end;start15,344
uint32_t start, delta,end;delta15,344
uint32_t start, delta,end;end15,344
uint32 counter = 10000000;counter16,371
void loop() {loop17,398

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/.qfplib-20161124/qfplib.s,1862
xchxy:xchxy76,1841
unpackxy:unpackxy84,2014
unpackx:unpackx93,2313
packx:packx125,3372
packx0:packx0134,3630
unpackxyalign:unpackxyalign187,5197
qfp_fsub:qfp_fsub216,5866
qfp_fadd:qfp_fadd221,5998
packret:       @ common return point: "pack and return"packret231,6219
mul0:mul0237,6394
qfp_fcmp:qfp_fcmp262,7219
qfp_fmul:qfp_fmul283,7681
fmul0:fmul0288,7815
qfp_fdiv:qfp_fdiv293,7855
fdiv_n:fdiv_n295,7883
infret:infret329,9078
qfp_fdiv_fast:qfp_fdiv_fast348,10051
fdiv_fast_n:fdiv_fast_n350,10084
div0:div0390,11462
qfp_fsqrt_fast:qfp_fsqrt_fast403,12300
rcpapp:rcpapp460,14407
rsqrtapp:rsqrtapp464,14496
qfp_float2int:qfp_float2int473,14683
qfp_float2fix:qfp_float2fix478,14803
qfp_float2uint:qfp_float2uint505,15463
qfp_float2ufix:qfp_float2ufix508,15523
qfp_int2float:qfp_int2float525,15984
qfp_fix2float:qfp_fix2float530,16121
packretns:       @ pack and return, sticky bits=0packretns535,16202
qfp_uint2float:qfp_uint2float541,16307
qfp_ufix2float:qfp_ufix2float544,16367
cordic_start: @ initialisationcordic_start571,17011
cordic_vstep: @ one step of algorithm in vector modecordic_vstep578,17114
cordic_rstep: @ one step of algorithm in rotation modecordic_rstep582,17213
cordic_rot:cordic_rot612,17883
cordic_exit:cordic_exit629,18340
cordic_vec:cordic_vec635,18413
qfp_fsin:            @ calculate sin and cos using CORDIC rotation methodqfp_fsin657,18966
qfp_fcos:qfp_fcos693,19923
qfp_ftan:qfp_ftan700,20027
qfp_fexp:            @ calculate cosh and sinh using rotation method; add to obtain expqfp_fexp711,20196
qfp_fsqrt:           @ calculate sqrt and ln using vector methodqfp_fsqrt736,21174
qfp_fln:qfp_fln769,21983
qfp_fatan2:qfp_fatan2792,22637
pi_q29:pi_q29821,23623
tab_cc:tab_cc823,23730
tab_ch:tab_ch839,24131
qfp_lib_end:qfp_lib_end858,24509

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/.qfplib-20161124/qfpio.h,35
#define _QFPIO_H__QFPIO_H_20,799

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/.qfplib-20161124/qfplib.h,37
#define _QFPLIB_H__QFPLIB_H_22,831

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/.qfplib-20161124/qfpio.s,378
div125:div12542,1430
opoint: @ output decimal pointopoint62,1902
ozero: @ output '0'ozero66,1966
odig:  @ output one digit from r3odig68,1998
och:   @ output one character from r3och70,2046
naninf: @ r4=0 for Inf, otherwise NaNnaninf75,2119
qfp_float2str:qfp_float2str107,3208
isdig: @ convert ASCII to digitisdig556,10338
qfp_str2float:qfp_str2float563,10476

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/qfplib-m3.h,43
#define _QFPLIB_M3_H__QFPLIB_M3_H_20,803

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/MultiStepper.h,1134
#define MultiStepper_hMultiStepper_h11,241
#define NUMSTEPPERS NUMSTEPPERS14,302
#define MAXSPEED MAXSPEED15,325
#define STEPSTATECOUNT STEPSTATECOUNT16,361
#define ACCELSTEPS ACCELSTEPS17,386
#define SPIBUFFERL SPIBUFFERL18,458
class MultiStepper {MultiStepper19,493
    CW,CW22,539
    CCW,CCW23,547
    NONE // none means we are doneNONE24,556
  } MotorDirection;MotorDirection25,591
  struct stepperStruct {stepperStruct27,612
    uint32_t currentStepState;currentStepState28,637
    uint32_t accelIndex; // where we are in the accelration tableaccelIndex29,668
    int32_t currentStep; // step we are currently atcurrentStep30,734
    int32_t targetStep;  // target we are moving totargetStep31,787
    uint32_t lastMicro;  // microsecs since last steplastMicro32,839
    uint32_t delayMicro; // micros between stepsdelayMicro33,893
    MotorDirection dir;  // direction -1,0,1dir34,942
    int32_t accelTable[ACCELSTEPS * 2]accelTable35,987
  stepperStruct steppers[NUMSTEPPERS];steppers62,1951
  uint8_t spiArray[SPIBUFFERL]; // Holds the bytes to the shift registersspiArray63,1990

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/qfplib-m3.S,1928
qfp_fadd:qfp_fadd232,7234
fadd_pp:                  @ positive+positivefadd_pp249,7622
fsub_m:fsub_m355,10687
fadd_mp:                  @ negative+positivefadd_mp360,10839
fadd_mp_xlty:fadd_mp_xlty367,11057
fadd_m:fadd_m371,11149
fadd_mm:                  @ negative+negativefadd_mm374,11210
qfp_fsub:qfp_fsub388,11575
fadd_pm:                  @ positive+negativefadd_pm406,12043
fadd_pm_xlty:fadd_pm_xlty435,12998
qfp_fmul:qfp_fmul522,15286
fmul_y_0:                 @ here y 0/denormalfmul_y_0556,16339
fmul_x_0:                 @ x 0/denormalfmul_x_0569,16723
fmul_y_inf:               @ here y Inf/NaNfmul_y_inf659,18801
fmul_x_inf:               @ x Inf/NaN, y normalfmul_x_inf682,19425
qfp_fdiv:qfp_fdiv712,20527
fdiv_x_0:                 @ x 0/denormalfdiv_x_0746,21546
fdiv_y_0:                 @ y 0/denormalfdiv_y_0756,21763
fdiv_x_inf:               @ x Inf/NaNfdiv_x_inf870,24881
fdiv_y_inf:               @ y Inf/NaNfdiv_y_inf890,25374
rsqrt_t0:rsqrt_t0905,25916
rsqrt_t1:rsqrt_t1914,26486
qfp_fsqrt:qfp_fsqrt926,27079
exp_e0:exp_e01056,31487
exp_dt0:exp_dt01071,32298
qfp_fexp:qfp_fexp1087,33470
ln_dt0:ln_dt01261,39001
qfp_fln:qfp_fln1314,41865
cos_t0:cos_t01504,47952
sin_t0:sin_t01526,49513
qfp_fsin:qfp_fsin1572,51992
sin_reentry:sin_reentry1583,52402
sin_eps_reentry:sin_eps_reentry1599,52890
recippi:                  @ table above is indexed backwardsrecippi1762,58446
qfp_fcos:qfp_fcos1778,58781
cos_reentry:cos_reentry1789,59201
cos_eps_reentry:cos_eps_reentry1806,59721
tan_t0:tan_t01850,61009
tan_t1:tan_t11869,62539
qfp_ftan:qfp_ftan1921,64503
tan_reentry:tan_reentry1932,64913
tan_eps_reentry:tan_eps_reentry1956,65649
cot_reentry:cot_reentry2016,67803
recippi2: @ table above is indexed backwardsrecippi22173,72796
atan_t0:atan_t02194,73174
qfp_fatan2:qfp_fatan22346,78867
qfplib_end:qfplib_end2578,84961

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/SwitecX25.cpp,805
#define RESET_STEP_MICROSEC RESET_STEP_MICROSEC16,366
static uint32_t defaultAccelTable[][2] = {defaultAccelTable22,724
#define DEFAULT_ACCEL_TABLE_SIZE DEFAULT_ACCEL_TABLE_SIZE29,854
static byte stateMap[] = {0x9, 0x1, 0x7, 0x6, 0xE, 0x8};stateMap42,1301
SwitecX25::SwitecX25(){SwitecX2543,1358
SwitecX25::SwitecX25(int32_t steps, unsigned char pin1, unsigned char pin2, unsigned char pin3, unsigned char pin4)SwitecX2546,1387
void SwitecX25::writeIO()writeIO68,1921
void SwitecX25::stepUp()stepUp78,2085
void SwitecX25::stepDown()stepDown87,2238
void SwitecX25::zero()zero96,2390
void SwitecX25::advance()advance124,3359
void SwitecX25::setPosition(int32_t pos)setPosition177,4559
void SwitecX25::update()update190,4873
void SwitecX25::updateBlocking()updateBlocking202,5137

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/MultiStepper.cpp,1089
static uint8_t stepperState[] = {0b1001, 0b0001, 0b0111,stepperState28,874
MultiStepper::MultiStepper() {MultiStepper30,989
bool MultiStepper::stepperDone(uint8_t i) {stepperDone39,1234
bool MultiStepper::steppersDone(){steppersDone45,1350
void MultiStepper::setTarget(uint8_t i, int32_t pos, uint32_t startSpeed, uint32_t endSpeed, int32_t stepsWidth) {setTarget53,1507
void MultiStepper::setSpeed(uint8_t i, uint32_t speed) {setSpeed95,3070
void MultiStepper::stepUp(uint8_t i) {stepUp101,3225
void MultiStepper::stepDown(uint8_t i) {stepDown108,3411
void MultiStepper::setTargetAll( int32_t pos, uint32_t startSpeed, uint32_t endSpeed, int32_t stepsWidth){setTargetAll115,3599
void MultiStepper::incrementStepState(uint8_t i) {incrementStepState121,3814
void MultiStepper::decrementStepState(uint8_t i) {decrementStepState126,3996
void MultiStepper::run() {run133,4197
void MultiStepper::spiBuildArray() {spiBuildArray166,5168
void MultiStepper::printSPIArray() {printSPIArray174,5450
int32_t MultiStepper::getCurrentStep(uint8_t i){getCurrentStep183,5643

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/MotorVID28_05.h,1589
#define MotorVID28_05_hMotorVID28_05_h2,25
class MotorVID28_05MotorVID28_055,74
   static const unsigned char pinCount = 3;pinCount16,352
   unsigned char stateCount;		// 24 microstatesstateCount17,397
   unsigned char pins[pinCount];pins18,446
   unsigned char currentState;		// current state in the cyclecurrentState19,480
   int32_t destination;			// target we are moving todestination20,543
   int32_t currentPosition;		// our current positioincurrentPosition21,597
   int32_t maxSpeed;				// MAKE A STEP EVERY X TICK. maxSpeed22,652
   int32_t accel;				// 1= 50 move to accelerate (4.2°)  accel23,707
   bool stopped;					// true if stoppedstopped24,766
   bool forward;					// true if forward, false if backwardforward25,807
   bool posReached;					// true if position is reachedposReached26,867
   int32_t waitDelay;			// how long (in milliseconds) shall we wait until the movement can start (to let some handles run later than others)waitDelay27,923
   bool pause;						// true = don't start yet. After waitDelay has passed, it turns to falsepause28,1065
   unsigned int distance; // calculates the distance distance29,1159
	 signed int moved; // how much moves did the stepper do since it started moved45,1482
	 unsigned long lastStep; // At which tick did the motor the last step?lastStep46,1558
	 unsigned long lastmicros; // when did the programm run last time (all 600 micro seconds with 8MHz)lastmicros47,1631
	 unsigned long tick; // every X microsecond a tick is initiated and the library checks if the motor has to movetick48,1733

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/src/SwitecX25.h,1028
#define SwitecX25_hSwitecX25_h11,235
class SwitecX25 {SwitecX2514,277
  static const unsigned char pinCount = 4;pinCount16,303
  static const unsigned char stateCount = 6;stateCount17,346
  unsigned char pins[pinCount];pins18,391
  unsigned char currentState; // 6 stepscurrentState19,423
  int32_t currentStep;        // step we are currently atcurrentStep20,464
  int32_t targetStep;         // target we are moving totargetStep21,522
  int32_t steps;              // total steps availablesteps22,579
  uint32_t time0;             // time when we entered this statetime023,634
  uint32_t microDelay;        // microsecs until next statemicroDelay24,699
  uint32_t (*accelTable)[2];  // accel table can be modified.accelTable25,759
  uint32_t maxVel;            // fastest vel allowedmaxVel26,821
  uint32_t vel;               // steps travelled under accelerationvel27,874
  signed char dir;            // direction -1,0,1dir28,942
  boolean stopped;            // true if stoppedstopped29,992

/home/phil/Documents/PlatformIO/Projects/stm32bluepill/Makefile,0
